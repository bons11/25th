<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Click The Heart!</title>
</head>
<body>
    <div class="container">
        <div class="flower">
            <div class="petal petal-1"></div>
            <div class="petal petal-2"></div>
            <div class="petal petal-3"></div>
            <div class="petal petal-4"></div>
            <div class="petal petal-5"></div>
            <div class="core"></div>
        </div>
    </div>
    <div class="container">
    <div class="envelope-wrapper">
        <div class="envelope">

            <div class="letter">         
                <div class="text">
                    <strong class="fancyfont" style="float: left;">Dear Clyde</strong>
                    <br>
                    <p>
                        This is my long-awaited letter to you, from the bottom of my heart, I am grateful. I am blessed to
                        experience 25 months with you as my girlfriend; I can't imagine what I would be now when you were not with me 
                        from the start, you have impacted my life in so many ways that you molded a part of me, a part of me that I will 
                        cherish deeply. Please continue to care for me when I most need it, continue to make me food because it is delicious, 
                        continue to ask me for small favors, continue to be a hard-working motivated person, I find that part of you charming, 
                        you are amazing. I will continue to do the things I do for love, and I will always be captivated by your beauty. 
                        I am sorry that sometimes I do not find the right words for you to understand me, please be patient for I love you so. 
                        Happy Monthsary, many more saries to come!<br><br>
                        <strong class="fancyfont" style="float: right;">- Jason</strong>
                </div>
    
            </div>
            
        </div>
        <img class="pic" src="pic.jpg">
        <div class="heart"></div>
    </div>
    </div>
    <script>
        let totalFlowers = 0;
        let flowerContainer = document.querySelector('.container');

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        function getRandomColor() {
            const colors = ['#C6EBC5', '#C58940','#E5D4FF','#A0C49D','#F9F5F6','#F6FFDE','#BA94D1','#FD8A8A']; // Add more colors as needed
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function createFlower() {
            totalFlowers++;

            if (totalFlowers > 120) {
                flowerContainer.removeChild(flowerContainer.firstElementChild);
                totalFlowers--;
            }

            const flower = document.querySelector('.flower');
            const newFlower = flower.cloneNode(true);
            flowerContainer.appendChild(newFlower);

            const marginLeft = getRandomNumber(-1500, 1600);
            const marginTop = getRandomNumber(-900, 700);
            newFlower.style.marginLeft = marginLeft + 'px';
            newFlower.style.marginTop = marginTop + 'px';

            const color = getRandomColor();
            newFlower.querySelectorAll('.petal').forEach(petal => {
                petal.style.backgroundColor = color;
            });

            const intervalTime = getRandomNumber(1000, 2000);
            setTimeout(createFlower, intervalTime);
        }

        function burstFlowers() {
            for (let i = 0; i < 50; i++) {
                createFlower();
            }
            const heart = document.querySelector('.heart');
            heart.removeEventListener('click', burstFlowers);
        }

        createFlower();

        const envelope = document.querySelector('.envelope-wrapper');
        envelope.addEventListener('click', () => {
            envelope.classList.toggle('flap');
            const pic = document.querySelector('.pic');
            if (pic.classList.contains('move-left')) {
                pic.classList.remove('move-left');
            }
        });

        const heart = document.querySelector('.heart');
        heart.addEventListener('click', burstFlowers);
    </script>
</body>
</html>
